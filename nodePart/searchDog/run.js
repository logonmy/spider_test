const getPage = require("../api/fetch").getPage
const File = require("fs");

let need = [
    "吕建刚",
    "陈海萍",
    "裘争平",
    "李澍晔",
    "吴国林",
    "何文松",
    "白庆祥",
    "何幸光",
    "廖运泽",
    "尔撒",
    "夏楚中",
    "王之宇",
    "楼景越",
    "尹佳",
    "曼德维尔",
    "何正军",
    "苏明章",
    "方雪莉",
    "何正宇",
    "郭知运",
    "宋久峰",
    "洪海波",
    "胡玉庭",
    "闍耶跋摩七世",
    "胡连翠",
    "王华怡",
    "郭英乂",
    "吕佩玉",
    "刘四姐",
    "巫希权",
    "陈尚和",
    "孙德成",
    "郭如舜",
    "张光藻",
    "吴半农",
    "梅鼎祚",
    "个人简介",
    "本特",
    "王玄志",
    "刘全谅",
    "陈仙奇",
    "海勒姆·宾厄姆",
    "李灵曜",
    "关佶红",
    "熊齐邦",
    "陈家琪",
    "章仁彪",
    "高宣扬",
    "邵龙宝",
    "白真陀罗",
    "蔡麟",
    "柯小刚",
    "苏肇平",
    "朱伟珏",
    "史德义",
    "张忠年",
    "高旭军",
    "郭大华",
    "王启清",
    "卢鸿一",
    "向明友",
    "王希夷",
    "张济华",
    "李元恺",
    "方守恩",
    "郭振有",
    "何醉衣",
    "穆罕默德·萨迪克·萨德尔",
    "和现昌",
    "Toni",
    "刘景德",
    "刘进安",
    "刘金珠",
    "刘建友",
    "刘建平",
    "刘建敏",
    "刘建建",
    "和有杨",
    "刘建才",
    "河成龙",
    "刘建宾",
    "刘佳宁",
    "刘继潮",
    "刘济荣",
    "陶阳",
    "邸永君",
    "曾黎力",
    "贺观田",
    "贺江秋",
    "休·丹西",
    "赵枞安",
    "魏鹊无枝",
    "贺南昌",
    "贺培诚",
    "乌玛瑟曼",
    "贺其湘",
    "贺庆棠",
    "贺寿长",
    "大军",
    "大漠",
    "吴伟强",
    "冯玉文",
    "高老太",
    "朱镕基",
    "佐亚穆鲁奇",
    "导弹超兽贝劳克恩",
    "独角超兽巴克西姆",
    "祖大乐",
    "再生怪兽",
    "储茂泉",
    "汪世龙",
    "马前",
    "朱文斯",
    "夏东均",
    "比尔·恩门",
    "宇秀",
    "佩刀暴君马格马星人",
    "宇宙海人",
    "宇宙剑豪扎姆夏",
    "宇宙岩砾怪兽",
    "徐大椿",
    "龚德隆",
    "亚辛·拉尼娅",
    "娜斐堤堤王后",
    "慈容",
    "高文修",
    "高小莉",
    "高延昌",
    "高正文",
    "高国平",
    "高长荣",
    "高作智",
    "白拉",
    "伊莎贝尔二世",
    "阿玛迪奥一世",
    "阿丽雅·尤苏波娃",
    "罗绕典",
    "亨利·克里斯多夫",
    "亚历山大·萨贝·佩蒂翁",
    "福斯坦·苏鲁克",
    "李芯逸",
    "让-克洛德·杜瓦利埃",
    "弗朗索瓦·杜瓦利埃",
    "刘雨鑫",
    "手冢国光",
    "林抚生",
    "蒋文学",
    "王鸿庆",
    "黄龄",
    "胡鹏程",
    "龚继安",
    "让-雅克·德萨林",
    "让-贝特朗·阿里斯蒂德",
    "黄离",
    "赵宾",
    "东皇太一",
    "黄老君",
    "黄宝妹",
    "席凯",
    "布尔维尔",
    "姜振昌",
    "徐宏力",
    "贺松宝",
    "侯传文",
    "贺卫平",
    "刘怀荣",
    "周海波",
    "上田诚也",
    "曾艳兵",
    "隋树林",
    "童刚",
    "戚晓杰",
    "查灿长",
    "孔祥军",
    "魏韶华",
    "张树国",
    "于世涛",
    "韩方煜",
    "李建隆",
    "刘均洪",
    "陈学玺",
    "吴嘉廉",
    "曾致尧",
    "武玉民",
    "窦秀艳",
    "范嘉晨",
    "陈秋红",
    "张潜",
    "佘小杰",
    "孙顺华",
    "朱葆华",
    "王今晖",
    "叶伯巨",
    "韩复兴",
    "刘洪麟",
    "刘红沛",
    "白敬宇",
    "黄雅诗",
    "陈泰运",
    "刘恒利"];

let sleep = async (s= 10) => {
    return new Promise(resolve => {setTimeout(resolve, s*1000)})
}

(async () => {
    for(let i=0;i< 1;i++){

        let href = "http://zhishu.sogou.com/index/searchHeat?kwdNamesStr="+ encodeURIComponent(need[i]) +"&timePeriodType=MONTH&dataType=SEARCH_ALL&queryType=INPUT"
        let d = await getPage(href);
        try{
            console.log(need[i], "             ", d.indexOf("root.SG.data") > -1);
        }catch(e){
            console.log(need[i], "             ", d);
        }
        if(i == need.length -1){
            i = 0;
        }
        d = d + "";
        let code = d.split("(function (root) {")[1].split("}(this));")[0];
        let root = {};
        eval(code);
        console.log(root.SG.data.infoList[0].avgPv);

        // File.appendFileSync("re.txt", d);
        await sleep(0.5);
    }
})()

